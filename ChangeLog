2012-12-08  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/server.c (main): Show a process ID in syslog traces.
	* host/lctcpd.c (main): Likewise.
	* proxies/tcp-proxy/tcp-proxy.c (tcp_proxy_init): Likewise.
	* proxies/ssh-proxy/ssh-proxy.c (ssh_proxy_init): Likewise.

2012-12-07  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Use a conventional format for comments as described in the (ice-9
	documentation) module, so the standard GNU Guile tool
	display-comentary can be used to display a file commentary or
	code.
	* scheme/lazy-gtk-cat.scm: Use the standard format for
	comments. Remove extra comments.
	* scheme/config.scm: Likewise.
	* scheme/diff.scm: Likewise.
	* scheme/host-list.scm: Likewise.
	* scheme/host.scm: Likewise.
	* scheme/lazy-gtk-cat.scm: Likewise.
	* scheme/lc-gtk-add-host-dialog.scm: Likewise.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lc-gtk-output-preview-dialog.scm: Likewise.
	* scheme/lc-gtk-output-view.scm: Likewise.
	* scheme/logger.scm: Likewise.


2012-12-02  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/logger.scm: Fix a mistake in a comment.

	Add an interface which allows to use syslog capabilities in Scheme
	code. Remove extra traces.
	* scheme/logger.scm: New file.
	* scheme/host-list.scm: Remove extra traces.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lazy-gtk-cat.scm: Likewise. Use <logger> for logging
	messages.

	* configure.ac: Add checks for GNU Guile programs and modules. Add
	a check for libssh.
	* configure: Update.

2012-12-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (handle-add-host): Fix a bug with wrong
	handling of a "Add host" dialog response.

	Add handling for a case with the missing config file.
	* scheme/config.scm (config-load-list): Return empty list if a
	config file doesn't exist.
	* scheme/host-list.scm (host-list-empty?): New method.
	* scheme/lazy-gtk-cat.scm (load-hosts): Correct handling of a
	situation with an empty host list.

	Improve way of working with diffs. Use standard scheme/guile
	functions for file system operations (creating files, directories
	etc).
	* scheme/diff.scm: New file.
	* scheme/lazy-gtk-cat.scm (send-message): Use <diff> for comparing
	strings.
	* scheme/tools.scm: Remove.
	* scheme/config.scm: Remove (lazycat tools) module.
	* scheme/host-list.scm: Likewise.

2012-11-17  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (send-message): Fix bug with registering
	a new handler for a signal on the every function call.

2012-11-11  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lc-gtk-output-preview-dialog.scm (initialize): Place the
	text buffer in a scrolled window. This will help us to keep the
	dialog window in the reasonable size borders on bulky outputs.

	* scheme/lc-gtk-add-host-dialog.scm (initialize): Fix typo.

	* scheme/lc-gtk-output-view.scm (insert): Add auto-scrolling to
	the last line of the text buffer.

	* scheme/lazy-gtk-cat.scm (send-message): Fix bug with calling
	lc-gtk-output-view-append incorrectly.

	* scheme/lc-gtk-host-tree.scm: Make columns resizable.

2012-11-10  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lc-gtk-output-preview-dialog.scm (show-output): Fix bug:
	use gtk-text-buffer-set-text instead of gtk-text-buffer-insert to
	clean up previous content of the buffer.

	Improve the coding style.
	* scheme/lazy-gtk-cat.scm: Split the code into logical parts by
	using a line feed symbol. Improve some comments.
	* scheme/config.scm: Likewise.
	* scheme/host-list.scm: Likewise.
	* scheme/host.scm: Likewise.
	* scheme/lc-gtk-add-host-dialog.scm: Likewise.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lc-gtk-output-preview-dialog.scm: Likewise.
	* scheme/lc-gtk-output-view.scm: Likewise.
	* scheme/tools.scm: Likewise.

	Add support for selecting a master host for the diff mode.
	* scheme/lazy-gtk-cat.scm (handle-set-master): New method.
	(set-master-host): New method.
	* scheme/lc-gtk-host-tree.scm (lc-gtk-host-tree-set-master-host):
	New public method.
	(set-master-host): New private method.
	(get-row-by-host-id): New private method.

2012-11-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* .gitignore: Fix wrong rules. Update.

	* proxies/ssh-proxy/ssh-proxy.h: Add macro for the proxy name.
	* proxies/tcp-proxy/tcp-proxy.h: Likewise.
	* server/server.c (main) : Use macros for proxy names.

2012-10-31  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Add support for setting a group for a new host in the "Add Host"
	dialog.
	* lc-gtk-add-host-dialog.scm: Add "Group" field to the dialog.
	(get-group): New method.
	* lazy-gtk-cat.scm (handle-add-host): Use a specified group name
	from the dialog.

	* lc-gtk-add-host-dialog.scm (initialize): Fix a bug in button
	click handlers: hide the dialog instead of destroying it.

2012-10-29  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

2012-10-28  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Use Guile Object Oriented Programming System (GOOPS) to rewrite Lazy
	GTK Cat as set of well-defined objects (head, body, tail etc). This
	should dramatically improve maintainability of the Cat and simplify
	adding new features to the Cat.

	* lazycat-gtk.sh: Add to the repository. This script can be used to
	run the Lazy GTK Cat.
	* server.c: Move SCM API to an its own module "lazycat builtins".
	* lc-gtk-add-host-dialog.scm: New file.
	* lc-gtk-host-tree.scm: New file.
	* lc-gtk-output-preview-dialog.scm: New file.
	* lc-gtk-output-view.scm: New file.
	* host.scm: New file.
	* host-list.scm: New file.

2012-10-03  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazy-ssh.c (lazy_ssh_exec): Add retrieving data from the stderr.

	* lazy-ssh.c (lssh_auth): Use existing public key from a file.

2012-10-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tools.scm (diff): Replace recursive file reading with iterative
	reading.

2012-09-29  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Fix wrong diff results for the SSH proxy.
	* lctcpd.c (main_loop): Remove timestamp.
	* lazy-gtk-cat.scm (cut-timestamp): Remove.

2012-09-27  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

	Add ssh-proxy.
	* ssh-proxy.c, ssh-proxy.h: New file.
	* lazy-ssh.c, lazy-ssh.h: Likewise.
	* lazy-gtk-cat.scm: Add ssh-proxy.

	Move tcp-proxy to its own directory.
	* tcp-proxy.c, tcp-proxy.h: Move to proxies/tcp-proxy

	* Makefile.am, Makefile.in: Update.

2012-09-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* parsers.c (get_hostname_from_address): Fix bug.

	Improve tcp-proxy.
	* tcp-proxy.c: Use functions from common/parsers.c instead of
	parse_ip_addr(). Improve traces.
	(ip4_address_to_uint32): New function.
	* parsers.c, parsers.h: New file.
	* Makefile.am: Add common/parsers.c and common/parsers.h.
	Update auto-generated scripts.
	* common.c (calncpy): New function.
	* common.h (calncpy): Likewise.

	Remove a unused function.
	* xsockets.c (parse_ip_addr): Remove.
	* xsockets.h (parse_ip_addr): Likewise.

2012-09-25  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* Makefile.am: Add common.c and common.h files.
	Update all correspond scripts.

	* tcp-proxy.c (parse_ip_addr): Move to xsockets.c
	* xsockets.c, xsockets.h: Update.

	* scmapi.c (calcpy): Move to common.c
	* common.c: New file.

	* tcp-proxy.h: Replace tcp_main_loop() with tcp_proxy_init().

2012-09-24  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Improve traces. Remove extra traces.
	* common.h: Add new macros for printing traces to the syslog.
	Replace old syslog() calls with new macros.
	* lctcpd.c: Remove extra traces.
	* scmapi.c: Likewise.

	Improve the tcp-proxy.
	* tcp-proxy.c (tcp_main_loop): Move basic initialization to the
	new function called tcp_proxy_init(). Rename tcp_main_loop() to
	tcp_proxy_main_loop(). Move initialization of strings with NULL to
	the begin of a while() loop.
	(tcp_proxy_init): New function.
	* server.c: Replace tcp_main_loop() with tcp_proxy_init().

2012-09-23  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Add support of storing the host list in a file
	between sessions.
	* config.scm: New file.
	* tools.scm: Turn to a module.

	* xsockets.c (xrecv_msg): Add the check for a NULL pointer after
	calling the calloc().

	* tcp-proxy.c (tcp_main_loop): Add exit() call.

2012-09-22  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Initialize values of the
	ip_addr_str and msg_buf with NULL. Add checks for NULL pointers
	before free() calls to prevent freeing unallocated memory.

2012-08-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Add check for a result of the
	open_socket().

	Improve code readability. Fix some comments. Clean code.
	* tcp-proxy.c (tcp_main_loop): Move handling of errors to the end
	of the function. Replace ERROR_ with ERR_ in names. Remove extra
	spaces.
	* db.c: Remove extern declarations from functions. Remove extra
	spaces.
	* scmapi.c: Fix style of comments.
	(calcpy): Remove an extra semicolon.
	* xsockets.c: Add comments. Remove extra spaces.
	* server.c: Remove an extra empty line.

2012-07-21  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lctcpd.c (main): Replace the hard-coded port number with
	variable.
	(print_help): New function.

2012-07-14  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	Add basic support of grouping the hosts.
	* lazy-gtk-cat.scm (host-list-add-group)
	(host-list-rem-group): New function.

2012-07-09  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Remove extra quotes.

2012-06-30  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Rewrite code to improve readability. Add
	comments.
	(lazy-gtk-cat): Remove.
	(hack-gtk-radio-menu-item-new-with-label-from-widget): Remove.

2012-06-29  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lctcpd.c (main): Add setsid() call. Add closelog() call before
	return.

2012-06-28 Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* tools.scm: New file.
	* lazy-gtk-cat.scm
	(get-diff): Rename to sdiff.
	(diff, sdiff): Move to tools.scm

2012-06-25 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* db.c (db_update_host): New function.
	(get_host_by_id): Fix bug.
	(get_proxy_by_fd): Fix bug.

	* db.h: Fix coding style.
	(db_update_host): New declaration.

	* scmapi.c (scm_update_host): New function.

	* scmapi.h (scm_update_host): New declaration.

	* server.c (scm_thread): Add lc-update-host to API.

2012-06-24 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* missing: Add to the repository.

2012-06-24 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Migrate to guile-gnome. Add "Description"
	column to the host list.

2012-06-20 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* depcomp: Add new file.
	* .gitignore: Remove depcomp.
