2013-11-05  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazycat-daemon/lazycatd.scm (lazycat-list, lazycat-diff):
	Replace `cond' with `case'.
	(lazycat-stop): Rename to `handle-stop-req'.
	(lazycat-add): Rename to `handle-add-req'.
	(lazycat-rem): Rename to `handle-rem-req'.
	(lazycat-list): Rename to `handle-list-req'.
	(lazycat-get): Rename to `handle-get-req'.
	(lazycat-set): Rename to `handle-set-req'.
	(lazycat-exec): Rename to `handle-exec-req'.
	(lazycat-diff): Rename to `handle-diff-req'.
	(main-loop): Update calls to request handlers.

2013-11-04  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazycat-daemon/lazycatd.scm (main-loop): Improve debug messages.
	* common/proxy.scm (main-loop): Likewise.

	Move `main' procedure to lazycatd.scm.  Do all arguments parsing
	and start the LazyCat daemon in lazycatd.scm.  Remove extra
	main.scm file.
	* lazycat-daemon/lazycatd.scm (main): New procedure.
	(print-help): New procedure.

	* lazycat-daemon/lazycat-daemon.c (inner_main): Call `main' from
	the lazycatd module.
	* lazycat-daemon/main.scm: Remove.

2013-11-03  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazycat-daemon/lazycatd.scm (setup-logging, run): Fix two bugs:
	tell the logger don't use stderr if the daemon is running in
	detached mode.  Open "/dev/null" as stdout and stderr after
	closing these ports to prevent `with-output-to-string' from
	restoring closed ports.

	* lazycat-daemon/server.c: Rename to lazycat-daemon.c
	* lazycat-daemon/Makefile.am (lazycat_daemon_SOURCES): Update.
	* lazycat-daemon/Makefile.in: Update.

	* common/proxy.scm: Use the standard logger provided by GNU Guile.
	(log-error, log-info, log-debug): Remove.
	(proxy-log-msg): New procedure.
	* lazycat-daemon/lazycatd.scm: Likewise.
	(log-debug): Remove.
	(setup-logging, shutdown-logging): New procedures.
	* proxies/ssh-proxy/ssh-proxy.scm,
	proxies/tcp-proxy/tcp-proxy.scm, ui/gtk/lazy-gtk-cat.scm:
	Likewise.

	* proxies/ssh-proxy/ssh-proxy.scm: Make it work with new Guile-SSH
	API.

2013-08-18  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/lc.scm (lazycat-add, lazycat-diff): Use getopt-long for
	parsing arguments.  Update the help message.
	(lazycat-rem, lazycat-exec, lazycat-set, lazycat-get)
	(lazycat-list, main): Update the help message.

2013-08-11  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/lc.scm (lazycat-list): Add shortened versions of names of
	object types.  Improve help for the "list" command.

	* lazycat-daemon/lazycatd.scm (initialize): Enable periodical ping
	by default (default value is 30 seconds).
	* TODO: Update.

2013-07-28  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/cli/pretty-format.scm (format-host-list): Improve formatting
	of the list of hosts -- wrap long lines.
	* ui/cli/format-table.scm: New file.

2013-07-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazycat-daemon/diff.scm (make-string-diff): Fix a bug: don't use
	with-output-to-file functions to write diffs, because it leads to
	crash of the process due to closed standard ports.

2013-07-17  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/lc.scm (lazycat-add, lazycat-rem, lazycat-exec)
	(lazycat-diff, lazycat-set, lazycat-get, lazycat-list): Improve
	error handling.  Improve formatting of error messages.
	* ui/cli/pretty-format.scm (format-error): Improve error
	formatting.
	(format-output): Likewise.
	(format-error-message): New procedure.

2013-07-14  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

	* proxies/ssh-proxy/ssh-proxy.scm (handle-send-message): Cache an
	SSH session for the each address.
	(make-new-session): New procedure.

	* common/proxy.scm (proxy-send-message, proxy-set-option!)
	(proxy-get-option, proxy-list-options, proxy-ping, proxy-stop):
	Protect with a mutex.

	* lazycat-daemon/lazycatd.scm (periodical-ping): Set lower
	priority for the thread.

2013-07-13  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Add Guile-SSH 0.3 to dependencies.

	* proxies/ssh-proxy/ssh-proxy.scm (poll-channel): Improve.
	(handle-send-message): Make it work with Guile-SSH 0.3.  Add
	additional traces.

	* lazycat-daemon/lazycatd.scm (initialize): Implement proxy
	debugging.
	(periodical-ping): Add message check to prevent calling
	message-error? method on #f.

	* lazycat-daemon/proxy-list.scm (proxy-list-load): Likewise.

	* common/proxy.scm (send-request): Catch system errors.

2013-07-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* host/lctcpd.scm (main-loop): Wait for termination of the child
	process that executes a command.
	* lazycat-daemon/diff.scm (calculate-diff): Likewise.

2013-06-30  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README, TODO: Update.

	Implement periodical ping.  This functionality is quite unstable
	yet, so it is disabled by default.  To enable the periodical ping
	set "ping-interval" option to a value greater than zero.
	* lazycat-daemon/host-list.scm (unroll-host): Rename to
	serialize-host.  All callers updated.
	(host-list-get-unrolled-list): Rename to
	host-list-get-serialized-list.  All callers updated.
	(unroll-group): Rename to serialize-group.  All callers updated.
	(serialize-group/state, serialize-host/state): New public methods.
	* lazycat-daemon/host.scm: Add the status field.
	* lazycat-daemon/lazycatd.scm: Add ping-interval option.
	(periodical-ping): New method.
	* ui/cli/pretty-format.scm (format-host-list): Show hosts
	statuses.

	* lazycat-daemon/host-list.scm (host-list-load): Use an
	association list to store host attributes.
	(unroll-host, unroll-group): Likewise.

	* ui/cli/pretty-format.scm (format-host-list): Likewise.
	* ui/gtk/host-tree.scm (host-tree-add-host): Likewise.
	* ui/gtk/lazy-gtk-cat.scm (handle-add-host): Likewise.

	* common/proxy.scm (main-loop): Fix handling of the ping command.

	* lazycat-daemon/host-list.scm (host-list-add-host): Fix a bug:
	increment host ID.

	Improve the protocol.  Standartize message exchange procedures,
	add the <message> class.
	* common/message.scm: New file.
	* common/protocol.scm: Improve.  Use ABNF notation instead of BNF
	to describe the protocol.
	* lazycat-daemon/lazycatd.scm: Improve.  Use <message> class.
	* ui/lc.scm: Likewise.
	* ui/gtk/lazy-gtk-cat.scm: Likewise.
	* ui/gtk/output-view.scm (output-view-format-list)
	(output-view-format-diff): Remove extra status checks.  Improve.
	* ui/cli/pretty-format.scm (format-output-list): Remove the extra
	status check.
	(format-diff): Likewise.  Improve.
	* proxies/ssh-proxy/ssh-proxy.scm (handle-set-option!)
	(handle-ping): Change return value.

2013-06-09  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/cli/pretty-format.scm (format-output): Improve error
	printing.
	(format-error): New procedure.

	* proxies/ssh-proxy/ssh-proxy.scm (parse-address): Add the check
	for sanity of the address.
	(handle-send-message): Likewise.
	* proxies/tcp-proxy/tcp-proxy.scm (parse-address)
	(handle-send-message): Likewise.

	* common/proxy.scm (proxy-stop): Wait for the termination of the
	child process.
	(main-loop): Improve handling of the "stop" command.

	* lazycat-daemon/config.scm (config-save-list): Fix a bug: use
	call-with-output-file instead of with-output-to-file.  The problem
	with with-output-to-file is that the daemon closes all the default
	ports including stdout on start, but call-with-output-file seems
	to fail because it tries to restore the default output port after
	a thunk is done.  It means that the lazycat-daemon fails when it
	tries to save the host list to a file -- and we can't stop proxy
	processes.  What an annoying bug.

	* lazycat-daemon/lazycatd.scm (lazycat-exec): Improve.  Add error
	handling.

	* ui/lc.scm (lazycat-exec): Fix a bug with displaying the output.
	* ui/cli/pretty-format.scm (format-output-list): Likewise.

2013-06-03  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazycat-daemon/lazycatd.scm: Add debug mode.
	(run): Add no-detach mode.
	* lazycat-daemon/main.scm (main): Handle command line options.
	(print-help): New procedure.

2013-06-02  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* configure.ac: Add the check for Guile-SSH
	* configure: Update.

	* TODO: Update.

	Rewrite LazyCat daemon, proxies and host processes in Scheme.

	* Rewrite most parts of LazyCat in Scheme.
	* Use Guile-SSH for ssh-proxy.
	* Update protocol, add protocol description.
	* Improve lazycat-daemon.
	* Remove extra files.
	* Improve directory structure of the repository.
	* Improve automake and autoconf files.

2013-05-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

2013-05-25  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Fix the problem with building against libssh 0.4.x
	* configure.ac: Add check for libssh API version.
	* proxies/ssh-proxy/libssh-compat.h: New file.
	* proxies/ssh-proxy/lazy-ssh.c: Include libssh-compat.h.
	* Makefile.in, aclocal.m4, configure: Update.

2013-05-04  DrDeimos  <drdeimosnn@gmail.com>

	* autoconf.ac: Fix Guile modules check error on some
	systems. Remove unnecesary checks for Guile modules.
	* ui/lazycat-gtk.scm: Change the interpreter to the
	guile-gnome-2.
	* .gitignore: Ignore binary files and scripts.
	* Makefile.in, aclocal.m4, configure: Update.

2013-04-24  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* TODO: Update.

2013-04-18  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scm/lazycatd.scm: Handle the "stop" command in
	lazycat-stop procedure.
	(lazycat-stop): Close the server socket.
	(open-socket): Delete old socket file if it exists.

	* server/scmapi.c (scm_send_msg, scm_add_host, scm_update_host):
	Replace deprecated SCM_STRINGP with scm_is_string.

2013-04-14  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scm/utils.scm: Fix a comment.

	* server/scm/host-list.scm (host-list-add-host): Use keywords for
	passing arguments into the procedure.  All callers updated.
	* server/scm/lazycatd.scm (lazycat-add): Update.
	* server/scm/utils.scm: New file.

2013-04-13  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/lazycat-gtk.scm: Fix the header comment.

	* ui/gtk/lazy-gtk-cat.scm: Remove load-from-path calls.

2013-04-07  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scm/lazycatd.scm (lazycat-add): Fix a bug.

	Improve usage of the Guile module system.
	* Makefile.am: Replace AM_CPPFLAGS with AM_CFLAGS.  Use datadir as
	GUILE_LOAD_PATH.  Rename lazycatd to lazycat-daemon.  Cleanup.
	* Makefile.in: Update.
	* server/server.c: Use setenv call to set GUILE_LOAD_PATH.
	* server/scm/host-list.scm, server/scm/lazycatd.scm,
	server/scm/main.scm, ui/lazycat-gtk.scm, ui/lc.scm: Remove
	load-from-path calls.

2013-03-30  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/lc.scm: Update file commentary.  Fix tautology in comments.

2013-03-29  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scm/lazycatd.scm (initialize): Fix an unbound variable
	error.

2013-03-28  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Automate LazyCat installation with autotools.
	* Makefile.am: Improve.
	* Makefile.in: Update.
	* server/server.c, server/scm/config.scm, server/scm/diff.scm,
	server/scm/host-list.scm, server/scm/host.scm,
	server/scm/lazycatd.scm, server/scm/logger.scm,
	server/scm/main.scm, server/scm/protocol.scm,
	ui/gtk/lazy-gtk-cat.scm: Remove "scm" from a module path.  All
	dependent modules updated.
	* ui/lc: Rename to ui/lc.scm.
	* ui/lazycat-gtk: Rename to ui/lazycat-gtk.scm.

2013-03-27  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* ui/gtk/lazy-gtk-cat.scm (lazycat-send-message): Fix broken exec
	and diff command handler.
	(lazycat-set-master-host): Fix malformed message.
	* ui/gtk/output-view.scm (output-view-format)
	(output-view-format-list, output-view-format-diff): New methods.

	* server/scm/lazycatd.scm: Don't parse arguments of commands in
	main-loop -- do it in a command handler instead.  Improve error
	handling.
	(lazycat-exec): New generic method.
	(lazycat-throw): New procedure.
	(lazycat-set): Fix a bug in arguments parsing.

	* ui/lc: Fix a bug in handling "diff --abort" command.
	* server/scm/lazycatd.scm: Likewise.

	Don't do any formatting of outputs on the server side.
	* server/scm/lazycatd.scm (lazycat-exec, lazycat-diff): Send
	results to a client as a list instead of squashing all in a
	string.  Add comments.
	* ui/lc (lazycat-exec, lazycat-diff): Improve.
	* ui/cli/pretty-format.scm (format-output, format-output-list)
	(format-diff): New functions.
	* server/scmapi.c (scm_send_msg): Throw an exception on error.
	(lazycat_throw): New function.
	* server/scm/host.scm (host-send-message): Catch an exception.

	* ui/lc (lazycat-set): Fix a message format.

2013-03-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Improve the LazyCat server.  Make the server work as a daemon and
	split UI and the server part.  Make UI communicate with the server
	through the well-defined protocol, so it become more
	straightforward and flexible.  Improve the module hierarchy.  Move
	all UI-related sources to ui directory.  Add a CLI for LazyCat.
	* scheme/config.scm, scheme/diff.scm, scheme/host.scm,
	scheme/host-list.scm, scheme/logger.scm: Move to server/scm.
	* lazycat-gtk.sh: Move to the ui directory.  Rename to
	lazycat-gtk.
	* scheme/lazy-gtk-cat.scm: Move to ui/gtk.  Move all GTK-related
	stuff to ui/gtk.
	* server/scm/lazycatd.scm: New file.
	* ui/lc: New file.
	* ui/cli/pretty-format.scm: New file.
	* server/scm/protocol.scm: New file.
	* server/server.c: Don't start the Guile shell -- run the lazycatd
	instead.

2013-03-17  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scmapi.c: Use __func__ macro instead of SUBR_NAME.
	(scm_update_host): Move host updating to a separate function.
	(update_host): New function.

2013-02-10  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* proxies/ssh-proxy/ssh-proxy.c (ssh_proxy_main_loop): Handle
	connection/execution errors instead of breaking the main loop.

2013-01-05  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/server.c: Use standard functions strdup() and strndup()
	instead of calcpy() and calncpy().
	* server/scmapi.c: Likewise.
	* proxies/ssh-proxy/lazy-ssh.c: Likewise.
	* common/parsers.c, common/common.h: Likewise.
	* Makefile.am, Makefile.in: Update.
	* common/common.c: Remove.

2013-01-04  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Improve the homebrew DB.
	* server/db.c: Improve.
	(db_get, db_query, select_from, get_free_node, is_type_equal)
	(is_proxy_name_equal, is_name_equal, is_addr_equal, id_desc_equal)
	(is_stat_equal, free_selection): New functions.
	(get_host_by_id): Rename to get_hode_by_id.
	(db_add_host): Rename to db_insert.
	(db_rem_host): Rename to db_delete.
	(db_update_host): Rename to db_update.
	(db_check_host): Rename to db_check.
	(db_get_host_list, db_set_client_status, db_get_proxy_by_fd)
	(db_rem_proxy, db_get_proxies_list, get_proxy_by_fd)
	(get_proxy_by_name, get_free_node_for_proxy)
	(get_free_node_for_host): Remove.
	* server/db.h: Update.
	* server/scmapi.c, server/server.c: Use the new DB API.
	* server/sighandlers.c: Likewise.

2013-01-03  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (load-hosts): Remove the hardcoded
	master host ID.

2012-12-28  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/scmapi.c (scm_get_host_list): Remove extra brackets.
	(scm_update_host): Use the ternary operation "?" instead of "if"
	for a return value.
	(scm_rem_host): Likewise.
	* server/db.h: Add a comment.
	* server/scmapi.c: Remove "extern" declarations from the code.
	* server/server.c: Likewise.
	* server/sighandlers.c: Likewise. Remove extra brackets.
	* server/server.h: New file.

2012-12-23  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (handle-host-tree-button-press-event):
	Disable some popup menu items according to a type of the selected
	object of the host tree.

2012-12-09  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm: Do communication with hosts in a
	separate thread.
	* scheme/lc-gtk-output-view.scm: Remove extra spaces.

2012-12-08  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* server/server.c (main): Show a process ID in syslog traces.
	* host/lctcpd.c (main): Likewise.
	* proxies/tcp-proxy/tcp-proxy.c (tcp_proxy_init): Likewise.
	* proxies/ssh-proxy/ssh-proxy.c (ssh_proxy_init): Likewise.

2012-12-07  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Use a conventional format for comments as described in the (ice-9
	documentation) module, so the standard GNU Guile tool
	display-comentary can be used to display a file commentary or
	code.
	* scheme/lazy-gtk-cat.scm: Use the standard format for
	comments. Remove extra comments.
	* scheme/config.scm: Likewise.
	* scheme/diff.scm: Likewise.
	* scheme/host-list.scm: Likewise.
	* scheme/host.scm: Likewise.
	* scheme/lazy-gtk-cat.scm: Likewise.
	* scheme/lc-gtk-add-host-dialog.scm: Likewise.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lc-gtk-output-preview-dialog.scm: Likewise.
	* scheme/lc-gtk-output-view.scm: Likewise.
	* scheme/logger.scm: Likewise.


2012-12-02  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/logger.scm: Fix a mistake in a comment.

	Add an interface which allows to use syslog capabilities in Scheme
	code. Remove extra traces.
	* scheme/logger.scm: New file.
	* scheme/host-list.scm: Remove extra traces.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lazy-gtk-cat.scm: Likewise. Use <logger> for logging
	messages.

	* configure.ac: Add checks for GNU Guile programs and modules. Add
	a check for libssh.
	* configure: Update.

2012-12-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (handle-add-host): Fix a bug with wrong
	handling of a "Add host" dialog response.

	Add handling for a case with the missing config file.
	* scheme/config.scm (config-load-list): Return empty list if a
	config file doesn't exist.
	* scheme/host-list.scm (host-list-empty?): New method.
	* scheme/lazy-gtk-cat.scm (load-hosts): Correct handling of a
	situation with an empty host list.

	Improve way of working with diffs. Use standard scheme/guile
	functions for file system operations (creating files, directories
	etc).
	* scheme/diff.scm: New file.
	* scheme/lazy-gtk-cat.scm (send-message): Use <diff> for comparing
	strings.
	* scheme/tools.scm: Remove.
	* scheme/config.scm: Remove (lazycat tools) module.
	* scheme/host-list.scm: Likewise.

2012-11-17  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lazy-gtk-cat.scm (send-message): Fix bug with registering
	a new handler for a signal on the every function call.

2012-11-11  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lc-gtk-output-preview-dialog.scm (initialize): Place the
	text buffer in a scrolled window. This will help us to keep the
	dialog window in the reasonable size borders on bulky outputs.

	* scheme/lc-gtk-add-host-dialog.scm (initialize): Fix typo.

	* scheme/lc-gtk-output-view.scm (insert): Add auto-scrolling to
	the last line of the text buffer.

	* scheme/lazy-gtk-cat.scm (send-message): Fix bug with calling
	lc-gtk-output-view-append incorrectly.

	* scheme/lc-gtk-host-tree.scm: Make columns resizable.

2012-11-10  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* scheme/lc-gtk-output-preview-dialog.scm (show-output): Fix bug:
	use gtk-text-buffer-set-text instead of gtk-text-buffer-insert to
	clean up previous content of the buffer.

	Improve the coding style.
	* scheme/lazy-gtk-cat.scm: Split the code into logical parts by
	using a line feed symbol. Improve some comments.
	* scheme/config.scm: Likewise.
	* scheme/host-list.scm: Likewise.
	* scheme/host.scm: Likewise.
	* scheme/lc-gtk-add-host-dialog.scm: Likewise.
	* scheme/lc-gtk-host-tree.scm: Likewise.
	* scheme/lc-gtk-output-preview-dialog.scm: Likewise.
	* scheme/lc-gtk-output-view.scm: Likewise.
	* scheme/tools.scm: Likewise.

	Add support for selecting a master host for the diff mode.
	* scheme/lazy-gtk-cat.scm (handle-set-master): New method.
	(set-master-host): New method.
	* scheme/lc-gtk-host-tree.scm (lc-gtk-host-tree-set-master-host):
	New public method.
	(set-master-host): New private method.
	(get-row-by-host-id): New private method.

2012-11-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* .gitignore: Fix wrong rules. Update.

	* proxies/ssh-proxy/ssh-proxy.h: Add macro for the proxy name.
	* proxies/tcp-proxy/tcp-proxy.h: Likewise.
	* server/server.c (main) : Use macros for proxy names.

2012-10-31  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Add support for setting a group for a new host in the "Add Host"
	dialog.
	* lc-gtk-add-host-dialog.scm: Add "Group" field to the dialog.
	(get-group): New method.
	* lazy-gtk-cat.scm (handle-add-host): Use a specified group name
	from the dialog.

	* lc-gtk-add-host-dialog.scm (initialize): Fix a bug in button
	click handlers: hide the dialog instead of destroying it.

2012-10-29  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

2012-10-28  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Use Guile Object Oriented Programming System (GOOPS) to rewrite Lazy
	GTK Cat as set of well-defined objects (head, body, tail etc). This
	should dramatically improve maintainability of the Cat and simplify
	adding new features to the Cat.

	* lazycat-gtk.sh: Add to the repository. This script can be used to
	run the Lazy GTK Cat.
	* server.c: Move SCM API to an its own module "lazycat builtins".
	* lc-gtk-add-host-dialog.scm: New file.
	* lc-gtk-host-tree.scm: New file.
	* lc-gtk-output-preview-dialog.scm: New file.
	* lc-gtk-output-view.scm: New file.
	* host.scm: New file.
	* host-list.scm: New file.

2012-10-03  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazy-ssh.c (lazy_ssh_exec): Add retrieving data from the stderr.

	* lazy-ssh.c (lssh_auth): Use existing public key from a file.

2012-10-01  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tools.scm (diff): Replace recursive file reading with iterative
	reading.

2012-09-29  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Fix wrong diff results for the SSH proxy.
	* lctcpd.c (main_loop): Remove timestamp.
	* lazy-gtk-cat.scm (cut-timestamp): Remove.

2012-09-27  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* README: Update.

	Add ssh-proxy.
	* ssh-proxy.c, ssh-proxy.h: New file.
	* lazy-ssh.c, lazy-ssh.h: Likewise.
	* lazy-gtk-cat.scm: Add ssh-proxy.

	Move tcp-proxy to its own directory.
	* tcp-proxy.c, tcp-proxy.h: Move to proxies/tcp-proxy

	* Makefile.am, Makefile.in: Update.

2012-09-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* parsers.c (get_hostname_from_address): Fix bug.

	Improve tcp-proxy.
	* tcp-proxy.c: Use functions from common/parsers.c instead of
	parse_ip_addr(). Improve traces.
	(ip4_address_to_uint32): New function.
	* parsers.c, parsers.h: New file.
	* Makefile.am: Add common/parsers.c and common/parsers.h.
	Update auto-generated scripts.
	* common.c (calncpy): New function.
	* common.h (calncpy): Likewise.

	Remove a unused function.
	* xsockets.c (parse_ip_addr): Remove.
	* xsockets.h (parse_ip_addr): Likewise.

2012-09-25  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* Makefile.am: Add common.c and common.h files.
	Update all correspond scripts.

	* tcp-proxy.c (parse_ip_addr): Move to xsockets.c
	* xsockets.c, xsockets.h: Update.

	* scmapi.c (calcpy): Move to common.c
	* common.c: New file.

	* tcp-proxy.h: Replace tcp_main_loop() with tcp_proxy_init().

2012-09-24  Artyom Poptsov  <poptsov.artyom@gmail.com>

	Improve traces. Remove extra traces.
	* common.h: Add new macros for printing traces to the syslog.
	Replace old syslog() calls with new macros.
	* lctcpd.c: Remove extra traces.
	* scmapi.c: Likewise.

	Improve the tcp-proxy.
	* tcp-proxy.c (tcp_main_loop): Move basic initialization to the
	new function called tcp_proxy_init(). Rename tcp_main_loop() to
	tcp_proxy_main_loop(). Move initialization of strings with NULL to
	the begin of a while() loop.
	(tcp_proxy_init): New function.
	* server.c: Replace tcp_main_loop() with tcp_proxy_init().

2012-09-23  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Add support of storing the host list in a file
	between sessions.
	* config.scm: New file.
	* tools.scm: Turn to a module.

	* xsockets.c (xrecv_msg): Add the check for a NULL pointer after
	calling the calloc().

	* tcp-proxy.c (tcp_main_loop): Add exit() call.

2012-09-22  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Initialize values of the
	ip_addr_str and msg_buf with NULL. Add checks for NULL pointers
	before free() calls to prevent freeing unallocated memory.

2012-08-26  Artyom Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Add check for a result of the
	open_socket().

	Improve code readability. Fix some comments. Clean code.
	* tcp-proxy.c (tcp_main_loop): Move handling of errors to the end
	of the function. Replace ERROR_ with ERR_ in names. Remove extra
	spaces.
	* db.c: Remove extern declarations from functions. Remove extra
	spaces.
	* scmapi.c: Fix style of comments.
	(calcpy): Remove an extra semicolon.
	* xsockets.c: Add comments. Remove extra spaces.
	* server.c: Remove an extra empty line.

2012-07-21  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lctcpd.c (main): Replace the hard-coded port number with
	variable.
	(print_help): New function.

2012-07-14  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	Add basic support of grouping the hosts.
	* lazy-gtk-cat.scm (host-list-add-group)
	(host-list-rem-group): New function.

2012-07-09  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* tcp-proxy.c (tcp_main_loop): Remove extra quotes.

2012-06-30  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Rewrite code to improve readability. Add
	comments.
	(lazy-gtk-cat): Remove.
	(hack-gtk-radio-menu-item-new-with-label-from-widget): Remove.

2012-06-29  Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* lctcpd.c (main): Add setsid() call. Add closelog() call before
	return.

2012-06-28 Artyom V. Poptsov  <poptsov.artyom@gmail.com>

	* tools.scm: New file.
	* lazy-gtk-cat.scm
	(get-diff): Rename to sdiff.
	(diff, sdiff): Move to tools.scm

2012-06-25 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* db.c (db_update_host): New function.
	(get_host_by_id): Fix bug.
	(get_proxy_by_fd): Fix bug.

	* db.h: Fix coding style.
	(db_update_host): New declaration.

	* scmapi.c (scm_update_host): New function.

	* scmapi.h (scm_update_host): New declaration.

	* server.c (scm_thread): Add lc-update-host to API.

2012-06-24 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* missing: Add to the repository.

2012-06-24 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* lazy-gtk-cat.scm: Migrate to guile-gnome. Add "Description"
	column to the host list.

2012-06-20 Artyom V. Poptsov <poptsov.artyom@gmail.com>

	* depcomp: Add new file.
	* .gitignore: Remove depcomp.
